# 📧 이메일 자동 발송 설정 가이드

## 🎯 목표
구매자가 이메일 주소를 입력하면 자동으로 PDF 파일을 첨부하여 발송

---

## ✅ 체크리스트

- [ ] 1단계: Gmail 앱 비밀번호 발급
- [ ] 2단계: .env 파일 수정
- [ ] 3단계: npm 패키지 설치
- [ ] 4단계: 이메일 발송 테스트
- [ ] 5단계: Vercel 배포

---

## 1단계: Gmail 앱 비밀번호 발급

### 1-1. Google 계정 보안 페이지 접속
https://myaccount.google.com/security

### 1-2. 2단계 인증 활성화 (아직 안 했다면)
1. "Google에 로그인" → "2단계 인증" 클릭
2. 안내에 따라 휴대전화 인증
3. 완료

### 1-3. 앱 비밀번호 생성
1. "앱 비밀번호" 검색 또는 클릭
2. 앱 선택: **메일**
3. 기기 선택: **기타 (맞춤 이름)** → "Claude 가이드"
4. **생성** 클릭
5. **16자리 비밀번호 복사** (예: `abcd efgh ijkl mnop`)

⚠️ **주의**: 공백을 제거하고 복사하세요!
- ❌ `abcd efgh ijkl mnop`
- ✅ `abcdefghijklmnop`

---

## 2단계: .env 파일 수정

파일 위치: `G:\내 드라이브\Content\ClaudeCC\Claude설치가이드\v2.0\sales-system\.env`

```env
# Gmail SMTP 설정
GMAIL_USER=여기에실제Gmail주소@gmail.com
GMAIL_APP_PASSWORD=여기에16자리앱비밀번호입력

# 환경 설정
NODE_ENV=production
```

**예시:**
```env
GMAIL_USER=sunny@gmail.com
GMAIL_APP_PASSWORD=abcdefghijklmnop
```

---

## 3단계: npm 패키지 설치

PowerShell 또는 터미널에서 실행:

```bash
cd "G:/내 드라이브/Content/ClaudeCC/Claude설치가이드/v2.0/sales-system"
npm install
```

---

## 4단계: 이메일 발송 테스트

```bash
npm run test-email
```

### 예상 결과:

```
📧 Gmail SMTP 설정 테스트 시작...

✓ Gmail 사용자: sunny@gmail.com
✓ 앱 비밀번호: abcd************

📨 연결 테스트 중...
✓ Gmail SMTP 서버 연결 성공!

📄 PDF 파일 확인 중...
✓ PDF 파일 존재 확인

📧 테스트 이메일 발송 중...
   수신자: sunny@gmail.com

✅ 테스트 이메일 발송 완료!
   메시지 ID: <...@gmail.com>

📬 받은편지함을 확인해주세요
```

### 받은편지함 확인사항:
- [ ] 이메일이 도착했는가?
- [ ] PDF 파일이 첨부되어 있는가?
- [ ] 스팸함에 들어가지 않았는가?

---

## 5단계: Vercel 배포 (선택사항)

### 5-1. Vercel 환경변수 설정

Vercel 대시보드 → Settings → Environment Variables

추가할 변수:
- `GMAIL_USER` = `your-email@gmail.com`
- `GMAIL_APP_PASSWORD` = `your-16-digit-password`

### 5-2. 배포

```bash
npm run deploy
```

---

## 🔧 트러블슈팅

### ❌ "인증 실패" 오류

**원인:**
- 잘못된 앱 비밀번호
- 2단계 인증 미활성화

**해결:**
1. 앱 비밀번호 재생성
2. 공백 제거 확인
3. 2단계 인증 확인

### ❌ "PDF 파일을 찾을 수 없습니다"

**원인:**
- PDF 파일 경로 오류

**해결:**
```bash
ls "판매용PDF/Claude_설치와사용_완벽가이드_v1.0.pdf"
```

파일이 없으면:
```bash
cp "../Claude_완벽가이드_최종본.pdf" "판매용PDF/Claude_설치와사용_완벽가이드_v1.0.pdf"
```

### ❌ "연결 거부" 오류

**원인:**
- 네트워크 문제
- 방화벽 차단

**해결:**
1. 인터넷 연결 확인
2. 방화벽 설정 확인
3. VPN 사용 시 비활성화

---

## ✨ 완료 후 확인사항

- [x] Gmail SMTP 연결 성공
- [x] PDF 첨부 이메일 수신 확인
- [x] landing.html의 이메일 폼 작동 확인
- [x] Vercel 배포 완료 (선택)

---

## 📞 문의

문제가 계속되면 카카오톡 채널로 연락주세요:
- 채널: Claude World
- ID: @claude
